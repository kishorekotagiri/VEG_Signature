<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js"
        integrity="sha512-NxocnqsXP3zm0Xb42zqVMvjQIktKEpTIbCXXyhBPxqGZHqhcOXHs4pXI/GoZ8lE+2NJONRifuBpi9DxC58L0Lw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <title>Email Footer</title>
</head>

<body>
    <script src="//unpkg.com/alpinejs" defer></script>


    <div x-data="{ name: '', role: '', phone: '', email: '', addy:'', fax:'' }" id="pg-wrap">



      

        <div class="formboi" id="formz">
            <style>
                .formboi {
                    display: flex;
                    flex-direction: column;
                    flex-grow: 0;
                    margin-left: 2em;
                    font-family: 'Open Sans', sans-serif;
                    width: 30%;
                    margin-bottom: 2em;
                }
            </style>


            <label for="name">Name</label>
            <input type="text" name="name" id="em_name" x-model="name" size="20" @input="generateFooter($data)">

            <label for="role">Designation</label>
            <input type="text" name="role" id="em_role" x-model="role" @input="generateFooter($data)">

            <label for="phone">Contact Number</label>
            <input type="text" name="phone" id="em_phone" x-model="phone" @input="generateFooter($data)">

            <label for="email">Email</label>
            <input type="email" name="email" id="em_email" x-model="email" @input="generateFooter($data)">



            <button style="margin-top: 12px;" @click="downloadFooter()">Download</button>


        </div>
    </div>

    <script>
        let bg, phone, web, email, addy, logo;
        let opsans, cb, csb, cr;

        let Erole = "Role";
        let Ename = "Name";
        let num = "12345678910";
        let emailId = "email@vivid-edge.com"





        function generateFooter({ name, email, role, phone }) {

            Erole = role.toUpperCase();
            Ename = name;
            num = phone;
            emailId = email;
            console.log(name);
            redraw();
        }

        function preload() {
            bg = loadImage('./res/es_bg-1.jpg');
            phone = loadImage('./res/Icons/Phone.png');
            email = loadImage('./res/Icons/Email.png');
            addy = loadImage('./res/Icons/Location.png');
            web = loadImage('./res/Icons/Website.png');
            logo = loadImage('./res/Logo.png');

            cb = loadFont('./res/cb.otf');
            csb = loadFont('./res/csb.otf');
            cr = loadFont('./res/cr.otf');
            opsans = loadFont('./res/os.ttf')


        }

        function setup() {
            // setAttributes('antialias', true);
            let canvas = createCanvas(700, 260);
        }

        // VALUES
        const adpos = 153;
        const opSize = 14;
        const iPos = 380;
        const dPos = iPos + 40;
        const tPos = 90;


        function downloadFooter() {

            saveCanvas(canvas, Ename + ' VEC_footer', 'jpg');

        }


        function draw() {
          
            // translate(-width/2,-height/2);
            image(bg, 0, 0, 900, 262);
            image(phone, iPos, 60, 30, 30);
            image(email, iPos, 100, 30, 30);
            image(addy, iPos, 140, 30, 30);
            image(web, iPos, 180, 30, 30);
            image(logo, 30, 150, 280, 76);

            fill(255);

            textFont(opsans, 14);
            text(num, dPos, 80);
            text(emailId, dPos, 120);
            text("11710 Plaza America Drive STE", dPos, adpos);
            text("2000 Reston, VA â€“ 20190", dPos, adpos + opSize);
            text("www.vivid-edge.com", dPos, 200);

            textFont(csb, 32);
            text(Ename, 32, tPos);

            textFont(cr, 14);
            text(Erole, 32, tPos + 24);
            noLoop();
        }



    </script>

</body>

</html>